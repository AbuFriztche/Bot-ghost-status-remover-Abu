const { Client, GatewayIntentBits } = require("discord.js");
const express = require("express");
const app = express();

const client = new Client({
    intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent]
});

// KÃ¼Ã§Ã¼k bir web sunucusu aÃ§arak Render'Ä±n botu kapatmasÄ±nÄ± engelle
app.get("/", (req, res) => {
    res.send(`
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SHIVA</title>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: 'Poppins', sans-serif;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                height: 100vh;
                background: linear-gradient(135deg, #ff007a, #ffb74d);
                overflow: hidden;
            }
            .container {
                text-align: center;
                color: white;
            }
            .main-heading, .sub-heading {
                font-size: 4rem;
                margin: 0;
                position: relative;
                animation: glitch 1.5s infinite;
            }
            .main-heading {
                font-size: 5rem;
            }
            .sub-heading {
                font-size: 2rem;
                margin-top: 10px;
            }
            .icons {
                margin-top: 20px;
            }
            .icons a {
                color: white;
                margin: 0 15px;
                font-size: 2rem;
                text-decoration: none;
                transition: color 0.3s;
            }
            .icons a:hover {
                color: #ffb74d;
            }
            @media (max-width: 768px) {
                .main-heading {
                    font-size: 3rem;
                }
                .sub-heading {
                    font-size: 1rem;
                }
                .icons a {
                    font-size: 1.5rem;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="main-heading">SHIVA</div>
            <div class="sub-heading">BOT GHOST STATUS REMOVER v3</div>
            <div class="icons">
                <a href="https://discord.com/invite/xQF9f9yUEM" target="_blank" title="Discord"><i class="fab fa-discord"></i></a>
                <a href="https://www.youtube.com/@GlaceYT" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="https://github.com/GlaceYT" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </body>
    </html>
    `);
});

app.listen(3000, () => {
    console.log("Web sunucusu Ã§alÄ±ÅŸÄ±yor: http://localhost:3000");
});

client.once("ready", () => {
    console.log(`${client.user.tag} aktif!");
    
    // ðŸ”„ 10 dakikada bir botun durumunu gÃ¼ncelle
    setInterval(() => {
        client.user.setPresence({
            activities: [{ name: "Render'da uyumuyorum! ðŸ˜Ž" }],
            status: "online"
        });
        console.log("Bot durumu gÃ¼ncellendi.");
    }, 10 * 60 * 1000); // 10 dakika
});

client.login("MTM0NzE3NjQ4Mzg5ODAwMzUxOA.GA-mTC.zHPqOVCvWHxVzeaMfz48F_XCC5DrCsosg4QzGw");
